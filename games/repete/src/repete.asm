; RE-PETE
; A Simon clone for ColecoVision.

	include "../../../include/coleco.asm"

PATSIZE:	equ 189

	org $8000

	db $aa,$55			; ColecoVision title screen
	dw $0000			; pointer to sprite name table
	dw $0000			; pointer to sprite order table
	dw $0000			; pointer to working buffer for WR_SPR_NM_TBL
	dw CONTROLLER_BUFFER		; pointer to controller input areas
	dw START			; entry point

rst_8:
	reti
	nop
rst_10:
	reti
	nop
rst_18:
	jp RAND_GEN
rst_20:
	reti
	nop
rst_28:
	reti
	nop
rst_30:
	reti
	nop
rst_38:
	reti
	nop

	jp NMI

	db "RE-PETE/ /2023"

START:
	; set stack pointer
	ld SP,StackTop

	; initialize sound
	ld B,SoundDataCount		; max number of active voices+effects
	ld HL,SoundAddrs
	call SOUND_INIT

	; initialize clock
	ld HL,TIMER_TABLE
	ld DE,TIMER_DATA_BLOCK
	call INIT_TIMER

	; set screen mode 2,2 (16x16 sprites)
	call SETSCREEN2

	; enable both joysticks, buttons, keypads
	ld HL,$9b9b
	ld (CONTROLLER_BUFFER),HL

	; seed random numbers
	ld HL,1967
	call SEED_RANDOM

	; enable timers
	call CREATE_TIMERS

MAIN_SCREEN:
	; read joysticks to clear any false reads
	call JOYTST

	; initial seed random with the time that has passed
	LD HL,(TIME)
	call SEED_RANDOM

	; disable interrupts
	call DISABLE_NMI

	; clean up in case the game left anything on screen
	call CLEARSPRITES
	call SPRWRT

	; clear the screen
	call CLEARPAT

	; load the character set
	call LOAD_CHR_SET

	; set up main screen layout
	ld HL,VRAM_NAME
	ld DE,SCREEN_LAYOUT
	ld BC,24*32
	call LDIRVM

MLOOP:
	; check that a base tick has occurred
	; ensures consistent movement speed between 50 & 60 hz systems
	ld A,(TickTimer)
	call TEST_SIGNAL
	or A
	jr Z,MLOOP

	jr MLOOP

LOAD_CHR_SET:
	ld HL,0
SLOOP:
	ld DE,TILESET_PAT
	push HL
	ld BC,PATSIZE*8
	call LDIRVM
	pop HL
	push HL
	ld BC,VRAM_COLOR
	add HL,BC
	ld DE,TILESET_COL
	ld BC,PATSIZE*8
	call LDIRVM
	pop HL
	ld BC,$800
	add HL,BC
	ld A,H
	cp $18
	jr C,SLOOP
	ret

VDU_WRITES:
	ret

TILESET_PAT:
	db 000,000,000,000,000,000,000,000 ; 000
	db 255,255,255,255,255,255,255,255 ; 001
	db 255,255,255,255,255,252,224,255 ; 002
	db 255,255,255,252,192,255,255,255 ; 003
	db 255,255,240,255,255,255,255,255 ; 004
	db 255,192,255,255,255,255,255,255 ; 005
	db 224,255,255,255,255,255,255,255 ; 006
	db 255,255,255,255,255,255,255,255 ; 007
	db 248,255,255,255,255,255,255,255 ; 008
	db 255,252,255,255,255,255,255,255 ; 009
	db 255,255,240,255,255,255,255,255 ; 010
	db 255,255,255,192,252,255,255,255 ; 011
	db 255,255,255,255,255,192,248,255 ; 012
	db 255,255,255,255,255,255,252,240 ; 013
	db 255,255,254,248,192,255,255,255 ; 014
	db 248,192,255,255,255,255,255,255 ; 015
	db 224,252,255,255,255,255,255,255 ; 016
	db 255,255,128,224,252,255,255,255 ; 017
	db 255,255,255,255,255,255,192,240 ; 018
	db 255,255,252,248,224,128,255,128 ; 019
	db 192,255,255,255,255,255,255,255 ; 020
	db 252,255,255,255,255,255,255,255 ; 021
	db 255,255,192,224,248,254,255,254 ; 022
	db 255,255,255,255,255,252,248,240 ; 023
	db 255,255,255,255,255,192,224,240 ; 024
	db 192,240,248,252,255,255,255,255 ; 025
	db 255,255,255,255,255,128,192,240 ; 026
	db 255,255,255,255,255,254,252,240 ; 027
	db 252,240,224,192,255,255,255,255 ; 028
	db 255,255,255,255,255,252,248,240 ; 029
	db 255,255,255,255,255,192,224,240 ; 030
	db 255,255,255,255,254,252,248,240 ; 031
	db 224,192,128,255,255,255,255,255 ; 032
	db 252,254,255,255,255,255,255,255 ; 033
	db 255,255,255,192,224,240,252,254 ; 034
	db 248,252,255,255,255,255,255,255 ; 035
	db 255,255,255,128,192,240,248,252 ; 036
	db 255,255,255,254,252,240,224,192 ; 037
	db 224,192,255,255,255,255,255,255 ; 038
	db 255,255,255,252,248,240,192,128 ; 039
	db 192,128,255,255,255,255,255,255 ; 040
	db 248,252,254,255,255,255,255,255 ; 041
	db 255,255,255,255,128,192,224,240 ; 042
	db 255,255,255,255,255,254,252,248 ; 043
	db 255,255,255,255,255,255,255,255 ; 044
	db 255,192,224,240,252,254,255,255 ; 045
	db 255,255,255,255,255,255,255,192 ; 046
	db 255,128,192,240,248,254,255,255 ; 047
	db 255,255,255,255,255,255,255,128 ; 048
	db 255,255,255,255,255,255,255,252 ; 049
	db 255,255,255,255,248,192,255,255 ; 050
	db 255,255,240,255,255,255,255,255 ; 051
	db 254,255,255,255,255,255,255,255 ; 052
	db 128,255,255,255,255,255,255,255 ; 053
	db 255,255,240,255,255,255,255,255 ; 054
	db 255,255,255,255,224,252,255,255 ; 055
	db 255,255,255,255,255,255,255,192 ; 056
	db 255,255,255,255,255,255,255,254 ; 057
	db 255,254,252,240,224,128,255,255 ; 058
	db 255,255,255,255,255,255,255,252 ; 059
	db 255,252,248,240,192,128,255,255 ; 060
	db 255,255,255,255,255,255,255,255 ; 061
	db 255,255,255,255,255,128,192,224 ; 062
	db 248,240,224,224,192,192,128,255 ; 063
	db 224,240,252,254,255,255,255,255 ; 064
	db 255,255,255,255,128,192,224,248 ; 065
	db 224,240,248,255,255,255,255,255 ; 066
	db 240,192,255,255,255,255,255,255 ; 067
	db 240,252,255,255,255,255,255,255 ; 068
	db 248,240,224,255,255,255,255,255 ; 069
	db 255,255,255,255,254,252,248,224 ; 070
	db 248,240,192,128,255,255,255,255 ; 071
	db 224,240,248,248,252,252,254,255 ; 072
	db 255,254,254,252,252,252,248,248 ; 073
	db 252,254,252,248,240,224,192,128 ; 074
	db 192,128,192,224,240,248,252,254 ; 075
	db 255,128,128,192,192,192,224,224 ; 076
	db 240,240,240,224,224,224,192,192 ; 077
	db 255,254,254,252,252,248,240,240 ; 078
	db 255,128,128,192,192,224,240,240 ; 079
	db 240,240,240,248,248,248,252,252 ; 080
	db 192,192,128,128,128,128,128,128 ; 081
	db 224,224,224,192,192,192,128,128 ; 082
	db 248,248,248,252,252,252,254,254 ; 083
	db 252,252,254,254,254,254,254,254 ; 084
	db 128,128,255,255,255,255,255,255 ; 085
	db 192,128,255,255,248,240,240,240 ; 086
	db 252,254,255,255,224,240,240,240 ; 087
	db 192,128,255,255,248,240,255,255 ; 088
	db 252,254,255,255,224,240,255,255 ; 089
	db 255,255,255,255,255,255,192,192 ; 090
	db 255,255,255,255,255,255,252,252 ; 091
	db 192,128,255,255,240,240,255,255 ; 092
	db 252,254,255,255,240,240,255,255 ; 093
	db 255,255,255,255,252,252,252,252 ; 094
	db 255,255,255,255,192,192,192,192 ; 095
	db 254,254,255,255,255,255,255,255 ; 096
	db 255,255,255,255,255,255,128,128 ; 097
	db 240,240,240,240,240,240,240,240 ; 098
	db 255,255,240,248,255,255,128,192 ; 099
	db 255,255,255,255,255,255,255,255 ; 100
	db 192,192,255,255,255,255,255,255 ; 101
	db 252,252,255,255,255,255,255,255 ; 102
	db 255,255,240,240,240,240,240,240 ; 103
	db 254,252,255,255,255,255,255,255 ; 104
	db 252,252,252,252,252,252,254,255 ; 105
	db 192,192,192,224,255,255,255,255 ; 106
	db 255,255,255,255,255,255,254,254 ; 107
	db 128,128,128,128,128,128,192,192 ; 108
	db 128,128,192,192,192,224,224,224 ; 109
	db 254,254,252,252,252,248,248,248 ; 110
	db 254,254,254,254,254,254,252,252 ; 111
	db 192,192,224,224,224,240,240,240 ; 112
	db 240,240,248,252,252,254,254,255 ; 113
	db 240,240,224,192,192,128,128,255 ; 114
	db 252,252,248,248,248,240,240,240 ; 115
	db 248,248,252,252,252,254,254,255 ; 116
	db 128,192,224,240,248,252,254,252 ; 117
	db 254,252,248,240,224,192,128,192 ; 118
	db 224,224,192,192,192,128,128,255 ; 119
	db 255,128,192,192,224,224,240,248 ; 120
	db 255,255,255,255,254,252,240,224 ; 121
	db 248,224,192,128,255,255,255,255 ; 122
	db 255,255,255,255,255,248,240,224 ; 123
	db 255,255,255,255,255,255,192,240 ; 124
	db 255,255,255,255,255,255,252,240 ; 125
	db 255,255,255,255,255,224,240,248 ; 126
	db 224,248,252,254,255,255,255,255 ; 127
	db 255,255,255,255,128,192,240,248 ; 128
	db 255,254,252,252,248,248,240,224 ; 129
	db 248,252,254,255,255,255,255,255 ; 130
	db 255,255,255,255,255,128,192,224 ; 131
	db 255,255,254,252,240,224,192,255 ; 132
	db 192,255,255,255,255,255,255,255 ; 133
	db 255,255,254,248,240,192,128,255 ; 134
	db 128,255,255,255,255,255,255,255 ; 135
	db 252,255,255,255,255,255,255,255 ; 136
	db 255,255,192,248,255,255,255,255 ; 137
	db 255,255,255,255,255,240,255,255 ; 138
	db 255,255,255,255,255,255,255,254 ; 139
	db 255,255,255,255,255,255,255,128 ; 140
	db 255,255,255,255,255,240,255,255 ; 141
	db 255,255,252,224,255,255,255,255 ; 142
	db 192,255,255,255,255,255,255,255 ; 143
	db 254,255,255,255,255,255,255,255 ; 144
	db 255,255,128,224,240,252,254,255 ; 145
	db 252,255,255,255,255,255,255,255 ; 146
	db 255,255,128,192,240,248,252,255 ; 147
	db 255,255,255,255,255,254,252,248 ; 148
	db 224,192,128,255,255,255,255,255 ; 149
	db 240,248,252,254,255,255,255,255 ; 150
	db 255,255,255,255,255,255,254,252 ; 151
	db 254,252,240,224,192,255,255,255 ; 152
	db 255,255,255,255,255,255,252,248 ; 153
	db 252,248,240,192,128,255,255,255 ; 154
	db 255,255,255,255,255,255,255,255 ; 155
	db 192,224,240,252,254,255,255,255 ; 156
	db 255,255,255,255,255,255,192,224 ; 157
	db 128,192,240,248,252,255,255,255 ; 158
	db 255,255,255,255,255,255,128,192 ; 159
	db 240,224,192,128,255,255,255,255 ; 160
	db 240,248,252,255,255,255,255,255 ; 161
	db 240,224,192,255,255,255,255,255 ; 162
	db 255,255,255,255,252,248,240,192 ; 163
	db 240,192,128,255,255,255,255,255 ; 164
	db 240,252,254,255,255,255,255,255 ; 165
	db 255,255,255,255,192,224,240,252 ; 166
	db 240,248,252,255,255,255,255,255 ; 167
	db 240,224,192,255,255,255,255,255 ; 168
	db 128,255,128,224,248,252,255,255 ; 169
	db 255,255,255,255,255,255,255,192 ; 170
	db 255,255,255,255,255,255,255,252 ; 171
	db 254,255,254,248,224,192,255,255 ; 172
	db 240,252,255,255,255,255,255,255 ; 173
	db 255,255,255,192,248,254,255,255 ; 174
	db 255,255,255,255,255,255,192,248 ; 175
	db 255,255,255,255,255,255,252,224 ; 176
	db 255,255,255,252,224,128,255,255 ; 177
	db 240,192,255,255,255,255,255,255 ; 178
	db 255,224,252,255,255,255,255,255 ; 179
	db 255,255,255,192,252,255,255,255 ; 180
	db 255,255,255,255,255,240,255,255 ; 181
	db 255,255,255,255,255,255,192,255 ; 182
	db 255,255,255,255,255,255,255,224 ; 183
	db 255,255,255,255,255,255,255,248 ; 184
	db 255,255,255,255,255,255,252,255 ; 185
	db 255,255,255,255,255,240,255,255 ; 186
	db 255,255,255,252,192,255,255,255 ; 187
	db 255,248,192,255,255,255,255,255 ; 188

TILESET_COL:
	db 016,016,016,016,016,016,016,016 ; 000
	db 016,016,016,016,016,016,016,016 ; 001
	db 016,016,016,016,016,018,018,032 ; 002
	db 016,016,016,018,018,032,032,032 ; 003
	db 016,016,018,032,032,032,032,032 ; 004
	db 016,018,032,032,032,032,032,032 ; 005
	db 018,032,032,032,032,032,032,032 ; 006
	db 032,032,032,032,032,032,032,032 ; 007
	db 033,032,032,032,032,032,032,032 ; 008
	db 016,033,032,032,032,032,032,032 ; 009
	db 016,016,033,032,032,032,032,032 ; 010
	db 016,016,016,033,033,032,032,032 ; 011
	db 016,016,016,016,016,033,033,032 ; 012
	db 016,016,016,016,016,016,018,018 ; 013
	db 016,016,018,018,018,032,032,032 ; 014
	db 018,018,032,032,032,032,032,032 ; 015
	db 033,033,032,032,032,032,032,032 ; 016
	db 016,016,033,033,033,032,032,032 ; 017
	db 016,016,016,016,016,016,033,033 ; 018
	db 016,016,018,018,018,018,032,018 ; 019
	db 018,032,032,032,032,032,032,032 ; 020
	db 033,032,032,032,032,032,032,032 ; 021
	db 016,016,033,033,033,033,032,033 ; 022
	db 016,016,016,016,016,026,026,026 ; 023
	db 016,016,016,016,016,161,161,161 ; 024
	db 018,018,018,018,016,016,016,016 ; 025
	db 032,032,032,032,032,018,018,018 ; 026
	db 032,032,032,032,032,033,033,033 ; 027
	db 033,033,033,033,016,016,016,016 ; 028
	db 016,016,016,016,016,024,024,024 ; 029
	db 016,016,016,016,016,129,129,129 ; 030
	db 016,016,016,016,026,026,026,026 ; 031
	db 026,026,026,160,160,160,160,160 ; 032
	db 161,161,160,160,160,160,160,160 ; 033
	db 016,016,016,161,161,161,161,161 ; 034
	db 018,018,016,016,016,016,016,016 ; 035
	db 032,032,032,018,018,018,018,018 ; 036
	db 032,032,032,033,033,033,033,033 ; 037
	db 033,033,016,016,016,016,016,016 ; 038
	db 016,016,016,024,024,024,024,024 ; 039
	db 024,024,128,128,128,128,128,128 ; 040
	db 129,129,129,128,128,128,128,128 ; 041
	db 016,016,016,016,129,129,129,129 ; 042
	db 016,016,016,016,016,026,026,026 ; 043
	db 160,160,160,160,160,160,160,160 ; 044
	db 016,161,161,161,161,161,160,160 ; 045
	db 016,016,016,016,016,016,016,161 ; 046
	db 032,018,018,018,018,018,016,016 ; 047
	db 032,032,032,032,032,032,032,018 ; 048
	db 032,032,032,032,032,032,032,033 ; 049
	db 032,032,032,032,033,033,016,016 ; 050
	db 032,032,033,016,016,016,016,016 ; 051
	db 033,016,016,016,016,016,016,016 ; 052
	db 018,016,016,016,016,016,016,016 ; 053
	db 032,032,018,016,016,016,016,016 ; 054
	db 032,032,032,032,018,018,016,016 ; 055
	db 032,032,032,032,032,032,032,018 ; 056
	db 032,032,032,032,032,032,032,033 ; 057
	db 032,033,033,033,033,033,016,016 ; 058
	db 016,016,016,016,016,016,016,024 ; 059
	db 016,024,024,024,024,024,128,128 ; 060
	db 128,128,128,128,128,128,128,128 ; 061
	db 016,016,016,016,016,129,129,129 ; 062
	db 026,026,026,026,026,026,026,160 ; 063
	db 161,161,161,161,160,160,160,160 ; 064
	db 016,016,016,016,161,161,161,161 ; 065
	db 018,018,018,016,016,016,016,016 ; 066
	db 033,033,016,016,016,016,016,016 ; 067
	db 018,018,016,016,016,016,016,016 ; 068
	db 033,033,033,016,016,016,016,016 ; 069
	db 016,016,016,016,024,024,024,024 ; 070
	db 024,024,024,024,128,128,128,128 ; 071
	db 129,129,129,129,129,129,129,128 ; 072
	db 016,026,026,026,026,026,026,026 ; 073
	db 161,161,161,161,161,161,161,161 ; 074
	db 024,024,024,024,024,024,024,024 ; 075
	db 016,129,129,129,129,129,129,129 ; 076
	db 026,026,026,026,026,026,026,026 ; 077
	db 160,161,161,161,161,161,161,161 ; 078
	db 128,024,024,024,024,024,024,024 ; 079
	db 129,129,129,129,129,129,129,129 ; 080
	db 026,026,026,026,026,026,026,026 ; 081
	db 161,161,161,161,161,161,161,161 ; 082
	db 024,024,024,024,024,024,024,024 ; 083
	db 129,129,129,129,129,129,129,129 ; 084
	db 161,161,016,016,016,016,016,016 ; 085
	db 031,031,240,240,241,241,241,241 ; 086
	db 241,241,240,240,031,031,031,031 ; 087
	db 031,031,240,240,241,241,240,240 ; 088
	db 241,241,240,240,031,031,240,240 ; 089
	db 016,016,016,016,016,016,031,031 ; 090
	db 016,016,016,016,016,016,241,241 ; 091
	db 031,031,240,240,241,241,240,240 ; 092
	db 241,241,240,240,031,031,240,240 ; 093
	db 240,240,240,240,031,031,031,031 ; 094
	db 240,240,240,240,241,241,241,241 ; 095
	db 024,024,016,016,016,016,016,016 ; 096
	db 016,016,016,016,016,016,161,161 ; 097
	db 241,241,241,241,241,241,241,241 ; 098
	db 240,240,241,241,240,240,031,031 ; 099
	db 240,240,016,016,240,240,240,240 ; 100
	db 031,031,016,016,016,016,016,016 ; 101
	db 241,241,016,016,016,016,016,016 ; 102
	db 240,240,241,241,241,241,241,241 ; 103
	db 241,241,016,016,016,016,016,016 ; 104
	db 031,031,031,031,031,031,031,016 ; 105
	db 241,241,241,241,240,240,240,240 ; 106
	db 016,016,016,016,016,016,024,024 ; 107
	db 026,026,026,026,026,026,026,026 ; 108
	db 161,161,161,161,161,161,161,161 ; 109
	db 024,024,024,024,024,024,024,024 ; 110
	db 129,129,129,129,129,129,129,129 ; 111
	db 026,026,026,026,026,026,026,026 ; 112
	db 161,161,161,161,161,161,161,160 ; 113
	db 024,024,024,024,024,024,024,128 ; 114
	db 129,129,129,129,129,129,129,129 ; 115
	db 026,026,026,026,026,026,026,016 ; 116
	db 161,161,161,161,161,161,161,161 ; 117
	db 024,024,024,024,024,024,024,024 ; 118
	db 129,129,129,129,129,129,129,016 ; 119
	db 160,026,026,026,026,026,026,026 ; 120
	db 160,160,160,160,161,161,161,161 ; 121
	db 161,161,161,161,016,016,016,016 ; 122
	db 016,016,016,016,016,020,020,020 ; 123
	db 016,016,016,016,016,016,065,065 ; 124
	db 016,016,016,016,016,016,020,020 ; 125
	db 016,016,016,016,016,065,065,065 ; 126
	db 024,024,024,024,016,016,016,016 ; 127
	db 128,128,128,128,024,024,024,024 ; 128
	db 128,129,129,129,129,129,129,129 ; 129
	db 026,026,026,016,016,016,016,016 ; 130
	db 160,160,160,160,160,026,026,026 ; 131
	db 160,160,161,161,161,161,161,016 ; 132
	db 161,016,016,016,016,016,016,016 ; 133
	db 016,016,020,020,020,020,020,064 ; 134
	db 020,064,064,064,064,064,064,064 ; 135
	db 065,064,064,064,064,064,064,064 ; 136
	db 016,016,065,065,064,064,064,064 ; 137
	db 016,016,016,016,016,065,064,064 ; 138
	db 016,016,016,016,016,016,016,065 ; 139
	db 016,016,016,016,016,016,016,020 ; 140
	db 016,016,016,016,016,020,064,064 ; 141
	db 016,016,020,020,064,064,064,064 ; 142
	db 020,064,064,064,064,064,064,064 ; 143
	db 065,064,064,064,064,064,064,064 ; 144
	db 016,016,065,065,065,065,065,064 ; 145
	db 024,016,016,016,016,016,016,016 ; 146
	db 128,128,024,024,024,024,024,016 ; 147
	db 128,128,128,128,128,129,129,129 ; 148
	db 129,129,129,016,016,016,016,016 ; 149
	db 026,026,026,026,016,016,016,016 ; 150
	db 160,160,160,160,160,160,161,161 ; 151
	db 161,161,161,161,161,016,016,016 ; 152
	db 016,016,016,016,016,016,020,020 ; 153
	db 020,020,020,020,020,064,064,064 ; 154
	db 064,064,064,064,064,064,064,064 ; 155
	db 065,065,065,065,065,064,064,064 ; 156
	db 016,016,016,016,016,016,065,065 ; 157
	db 024,024,024,024,024,016,016,016 ; 158
	db 128,128,128,128,128,128,024,024 ; 159
	db 129,129,129,129,016,016,016,016 ; 160
	db 026,026,026,016,016,016,016,016 ; 161
	db 161,161,161,016,016,016,016,016 ; 162
	db 016,016,016,016,020,020,020,020 ; 163
	db 020,020,020,064,064,064,064,064 ; 164
	db 065,065,065,064,064,064,064,064 ; 165
	db 016,016,016,016,065,065,065,065 ; 166
	db 024,024,024,016,016,016,016,016 ; 167
	db 129,129,129,016,016,016,016,016 ; 168
	db 020,064,020,020,020,020,016,016 ; 169
	db 064,064,064,064,064,064,064,020 ; 170
	db 064,064,064,064,064,064,064,065 ; 171
	db 065,064,065,065,065,065,016,016 ; 172
	db 020,020,016,016,016,016,016,016 ; 173
	db 064,064,064,020,020,020,016,016 ; 174
	db 064,064,064,064,064,064,020,020 ; 175
	db 064,064,064,064,064,064,065,065 ; 176
	db 064,064,064,065,065,065,016,016 ; 177
	db 065,065,016,016,016,016,016,016 ; 178
	db 064,020,020,016,016,016,016,016 ; 179
	db 064,064,064,020,020,016,016,016 ; 180
	db 064,064,064,064,064,020,016,016 ; 181
	db 064,064,064,064,064,064,020,016 ; 182
	db 064,064,064,064,064,064,064,020 ; 183
	db 064,064,064,064,064,064,064,065 ; 184
	db 064,064,064,064,064,064,065,016 ; 185
	db 064,064,064,064,064,065,016,016 ; 186
	db 064,064,064,065,065,016,016,016 ; 187
	db 064,065,065,016,016,016,016,016 ; 188

SCREEN_LAYOUT:
	db 001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001 ; 000
	db 001,001,001,001,001,001,001,001,001,001,002,003,004,005,006,007,007,008,009,010,011,012,001,001,001,001,001,001,001,001,001,001 ; 001
	db 001,001,001,001,001,001,001,013,014,015,007,007,007,007,007,007,007,007,007,007,007,007,016,017,018,001,001,001,001,001,001,001 ; 002
	db 001,001,001,001,001,001,019,020,007,007,007,007,007,007,007,007,007,007,007,007,007,007,007,007,021,022,001,001,001,001,001,001 ; 003
	db 001,001,001,001,023,024,025,026,007,007,007,007,007,007,007,007,007,007,007,007,007,007,007,007,027,028,029,030,001,001,001,001 ; 004
	db 001,001,001,031,032,033,034,035,036,007,007,007,007,007,007,007,007,007,007,007,007,007,007,037,038,039,040,041,042,001,001,001 ; 005
	db 001,001,043,032,044,044,044,045,046,047,048,049,050,051,052,001,001,053,054,055,056,057,058,059,060,061,061,061,041,062,001,001 ; 006
	db 001,001,063,044,044,044,044,044,064,065,066,067,001,001,001,001,001,001,001,001,068,069,070,071,061,061,061,061,061,072,001,001 ; 007
	db 001,073,044,044,044,044,044,044,044,074,001,001,001,001,001,001,001,001,001,001,001,001,075,061,061,061,061,061,061,061,076,001 ; 008
	db 001,077,044,044,044,044,044,044,078,001,001,001,001,001,001,001,001,001,001,001,001,001,001,079,061,061,061,061,061,061,080,001 ; 009
	db 001,081,044,044,044,044,044,044,082,001,001,001,001,001,001,001,001,001,001,001,001,001,001,083,061,061,061,061,061,061,084,001 ; 010
	db 001,044,044,044,044,044,044,044,085,086,087,088,089,090,091,092,093,088,089,094,095,088,089,096,061,061,061,061,061,061,061,001 ; 011
	db 001,044,044,044,044,044,044,044,097,098,001,099,100,101,102,103,104,099,100,105,106,099,100,107,061,061,061,061,061,061,061,001 ; 012
	db 001,108,044,044,044,044,044,044,109,001,001,001,001,001,001,001,001,001,001,001,001,001,001,110,061,061,061,061,061,061,111,001 ; 013
	db 001,112,044,044,044,044,044,044,113,001,001,001,001,001,001,001,001,001,001,001,001,001,001,114,061,061,061,061,061,061,115,001 ; 014
	db 001,116,044,044,044,044,044,044,044,117,001,001,001,001,001,001,001,001,001,001,001,001,118,061,061,061,061,061,061,061,119,001 ; 015
	db 001,001,120,044,044,044,044,044,121,122,123,124,001,001,001,001,001,001,001,001,125,126,127,128,061,061,061,061,061,129,001,001 ; 016
	db 001,001,130,131,044,044,044,132,133,134,135,136,137,138,139,001,001,140,141,142,143,144,145,146,147,061,061,061,148,149,001,001 ; 017
	db 001,001,001,150,131,151,152,153,154,155,155,155,155,155,155,155,155,155,155,155,155,155,155,156,157,158,159,148,160,001,001,001 ; 018
	db 001,001,001,001,161,162,163,164,155,155,155,155,155,155,155,155,155,155,155,155,155,155,155,155,165,166,167,168,001,001,001,001 ; 019
	db 001,001,001,001,001,001,169,170,155,155,155,155,155,155,155,155,155,155,155,155,155,155,155,155,171,172,001,001,001,001,001,001 ; 020
	db 001,001,001,001,001,001,001,173,174,175,155,155,155,155,155,155,155,155,155,155,155,155,176,177,178,001,001,001,001,001,001,001 ; 021
	db 001,001,001,001,001,001,001,001,001,001,179,180,181,182,183,155,155,184,185,186,187,188,001,001,001,001,001,001,001,001,001,001 ; 022
	db 001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001,001 ; 023

bounce:
	db 081h, 054h, 010h, 002h, 023h, 007h
	db $90 ; end
	dw $0000

SoundDataCount:		equ 7
Len_SoundDataArea:	equ 10*SoundDataCount+1 	; 7 data areas
SoundAddrs:
	dw bounce,SoundDataArea				; 1 ball bounce sound
	dw 0,0

	include "../../../include/library.asm"

END:	equ $

	org RAMSTART

BALL:   ds 2

SoundDataArea:
	ds Len_SoundDataArea

